@model EmPeka.Frontend.Models.ArrivalsResponse
@{
    ViewData["Title"] = "Arrivals";
}


<div class="fullscreen">
    <div class="header">
        <div class="timestamp">@DateTime.Now</div>
        <div class="stop-name">@Model.StopName.ToUpper() (@Model.StopCode)</div>
    </div>

    <div class="arrivals">
        @if (Model?.Arrivals == null || Model.Arrivals.Count == 0)
        {
            <div class="empty">Brak nadchodzących odjazdów.</div>
        }
        else
        {
            <div class="arrival-row" style="font-weight:bold; text-transform:uppercase; color: white; background: black">
                <div class="line">LINIA</div>
                <div class="direction">KIERUNEK</div>
                <div class="eta">PLANOWO</div>
                <div class="eta">ODJAZD</div>
            </div>
            foreach (var a in Model.Arrivals)
            {
                <div class="arrival-row @(a.IsRealTime ? "rt" : "tt")">
                    <div class="line">@a.Line</div>
                    <div class="direction">@a.Direction</div>
                    <div class="eta">
                           @a.ScheduledDeparture.Substring(0, 5)
                    </div>
                    <div class="eta">
                        @a.EtaMin min
                    </div>
                </div>
            }
        }
    </div>
</div>

<style>
    :root {
        color-scheme: dark;
    }
    html, body { height: 100%; }
    body { margin: 0; color: #ff8c00; font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif; }
    .container { max-width: 100% !important; padding: 0 !important; }
    .fullscreen {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: #0a0a0a;
        border-style: solid;
        border-color: black;
        border-width: 50px 50px;
        box-sizing: border-box;
    }
    .header { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 1.5rem; }
    .stop-name { font-size: 2.5rem; }
    .timestamp { font-size: 3rem; font-weight: 700 }
    .arrivals { display: flex; flex-direction: column; gap: 1rem; }
    .arrival-row { display: grid; grid-template-columns: 120px 1fr 200px 200px; align-items: center; padding: 1rem; }
/*     .arrival-row.rt { box-shadow: 0 0 12px rgba(255, 140, 0, 0.35); }
 */    .line { font-size: 2rem }
    .direction { font-size: 2rem; }
    .eta { font-size: 2rem; text-align: right; }
    .empty { font-size: 2rem; opacity: 0.8; }

    @@media (max-width: 768px) {
        .arrival-row { grid-template-columns: 90px 1fr 120px; }
        .stop-name { font-size: 2rem; }
        .direction { font-size: 1.4rem; }
        .eta, .line { font-size: 1.6rem; }
    }
</style>
<script>
    setTimeout(function() {
        window.location.reload();
    }, 30000); // 30000 ms = 30 sekund
</script>
